[node]
name = "TIME Coin Node"
version = "1.0.0"
# Network type: "mainnet" or "testnet"
# Testnet: P2P=24100, RPC=24101, Address prefix=TIME0
network = "testnet"

[network]
# P2P network settings
# Port is auto-selected based on network type unless explicitly set:
# - Testnet: 24100
listen_address = "0.0.0.0"  # Will use port 24100
# External address that other nodes can connect to (required for masternodes)
# Leave unset if you want to use listen_address (only works if not 0.0.0.0)
external_address = ""  # Example: "your-public-ip" or "your-domain.com"
max_peers = 50
enable_upnp = false
enable_peer_discovery = true
# Seed nodes for peer discovery
bootstrap_peers = []
# IPs to permanently blacklist (will not connect to or accept connections from)
#blacklisted_peers = ["165.232.154.150", "178.128.199.144"]
# IPs to whitelist (exempt from rate limiting and bans)
# Useful for trusted masternodes or infrastructure nodes
# These peers are automatically exempt from:
# - Rate limiting (>100 requests/minute)
# - Blacklist bans (violation strikes)
# - Connection limits
# Note: Masternodes are automatically whitelisted when discovered via P2P protocol
#whitelisted_peers = ["1.2.3.4", "5.6.7.8"]

[rpc]
# RPC API settings
enabled = true
# Port is auto-selected based on network type unless explicitly set:
# - Testnet: 24101
listen_address = "127.0.0.1"  # Will use port 24101
allow_origins = ["http://localhost:3000"]

[storage]
# Storage backend configuration
backend = "sled"  # Options: "memory", "sled"
# data_dir is auto-configured based on network type:
# - Mainnet: ~/.timecoin/ (Linux) or %APPDATA%\timecoin\ (Windows)
# - Testnet: ~/.timecoin/testnet/ (Linux) or %APPDATA%\timecoin\testnet\ (Windows)
# Override only if you need a custom location
data_dir = ""  # Leave empty for automatic platform-specific path
cache_size_mb = 256

[consensus]
# Avalanche consensus settings
voting_timeout_ms = 3000
min_masternodes = 3
# Avalanche uses simple majority (>50%) of total stake weight for finality
# Sample quorum within each round: alpha=14 out of k=20 validators (70%)
quorum_percentage = 51  # Simple majority for Avalanche consensus
# Use genesis block from file (true = load from file, false = sync from network)
use_genesis_file = true
# Genesis block file path (only used if use_genesis_file = true)
genesis_file = "genesis.testnet.json"

[block]
# Block production settings
block_time_seconds = 600  # 10 minutes
max_block_size_kb = 1024
max_transactions_per_block = 10000

[logging]
# Logging configuration
level = "info"  # Options: "trace", "debug", "info", "warn", "error"
format = "pretty"  # Options: "json", "pretty"
output = "stdout"  # Options: "stdout", "file"
file_path = "./logs/testnet-node.log"

[masternode]
# Masternode settings (if running as masternode)
# The wallet address is automatically set from your node's wallet
# Tiers:
#   - free: Can receive block rewards, CANNOT vote on governance
#   - bronze: Can vote on governance, 1,000x rewards (1000 TIME collateral)
#   - silver: Can vote on governance, 10,000x rewards (10000 TIME collateral)
#   - gold: Can vote on governance, 100,000x rewards (100000 TIME collateral)
enabled = true
collateral_txid = ""
tier = "free"  # Options: "free", "bronze", "silver", "gold"

[security]
# Security settings
enable_rate_limiting = true
max_requests_per_second = 1000
enable_authentication = false
api_key = ""
# TLS encryption for all P2P communication
enable_tls = true
# Ed25519 signature verification on all messages
enable_message_signing = true
# Maximum age of signed messages (prevents replay attacks)
message_max_age_seconds = 300  # 5 minutes
